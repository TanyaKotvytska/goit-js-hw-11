{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '44714741-6fe0dcbbee03096a14c34d671';\nconst baseUrl = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n    const url = `${baseUrl}?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    try {\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error('Network response was not ok');\n        }\n        const data = await response.json();\n        return data.hits; \n    } catch (error) {\n        console.error('Error fetching images:', error);\n        throw error;\n    }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n    lightbox.refresh();\n}\n\nexport function renderImages(images) {\n    const html = images.map(image => `\n        <div class=\"card\">\n        <a href=\"${image.largeImageURL}\" alt=\"${image.tags}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n        </a>\n        <div class=\"card-details\">\n        <p>Likes: ${image.likes}</p>\n                <p>Views: ${image.views}</p>\n                <p>Comments: ${image.comments}</p>\n                <p>Downloads: ${image.downloads}</p>\n            </div>\n        </div>\n    `).join('');\n    gallery.innerHTML = html;\n    lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { clearGallery, renderImages } from './js/render-functions.js';\n\nconst form = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-input');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', async function (event) {\n    event.preventDefault();\n    const searchTerm = searchInput.value.trim();\n    \n    if (searchTerm === '') {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term.',\n        });\n        return;\n    }\n\n    loader.textContent = 'Loading images, please wait...';\n    \n    loader.style.display = 'block';\n    clearGallery();\n    \n    try {\n        const images = await fetchImages(searchTerm);\n        loader.style.display = 'none';\n        \n        if (images.length === 0) {\n            iziToast.info({\n                title: 'Info',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n        } else {\n            renderImages(images);\n        }\n    } catch (error) {\n        loader.style.display = 'none';\n        iziToast.error({\n            title: 'Error',\n            message: 'Failed to fetch images. Please try again later.',\n        });\n        console.error('Error fetching images:', error);\n    }\n});\n"],"names":["apiKey","baseUrl","fetchImages","query","url","response","error","gallery","lightbox","SimpleLightbox","clearGallery","renderImages","images","html","image","form","searchInput","loader","event","searchTerm","iziToast"],"mappings":"6vBAAA,MAAMA,EAAS,qCACTC,EAAU,2BAET,eAAeC,EAAYC,EAAO,CACrC,MAAMC,EAAM,GAAGH,CAAO,QAAQD,CAAM,MAAM,mBAAmBG,CAAK,CAAC,2DACnE,GAAI,CACA,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAGjD,OADa,MAAMA,EAAS,QAChB,IACf,OAAQC,EAAO,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACT,CACL,CCbA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,GAAe,CAC3BH,EAAQ,UAAY,GACpBC,EAAS,QAAO,CACpB,CAEO,SAASG,EAAaC,EAAQ,CACjC,MAAMC,EAAOD,EAAO,IAAIE,GAAS;AAAA;AAAA,mBAElBA,EAAM,aAAa,UAAUA,EAAM,IAAI;AAAA,wBAClCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,oBAG1CA,EAAM,KAAK;AAAA,4BACHA,EAAM,KAAK;AAAA,+BACRA,EAAM,QAAQ;AAAA,gCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG1C,EAAE,KAAK,EAAE,EACVP,EAAQ,UAAYM,EACpBL,EAAS,QAAO,CACpB,CCtBA,MAAMO,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAU,eAAgBG,EAAO,CACnDA,EAAM,eAAc,EACpB,MAAMC,EAAaH,EAAY,MAAM,KAAI,EAEzC,GAAIG,IAAe,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,6BACrB,CAAS,EACD,MACH,CAEDH,EAAO,YAAc,iCAErBA,EAAO,MAAM,QAAU,QACvBP,IAEA,GAAI,CACA,MAAME,EAAS,MAAMV,EAAYiB,CAAU,EAC3CF,EAAO,MAAM,QAAU,OAEnBL,EAAO,SAAW,EAClBQ,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0EACzB,CAAa,EAEDT,EAAaC,CAAM,CAE1B,OAAQN,EAAO,CACZW,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACrB,CAAS,EACD,QAAQ,MAAM,yBAA0Bd,CAAK,CAChD,CACL,CAAC"}